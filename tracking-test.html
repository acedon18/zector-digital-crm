<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zector Digital Lead Tracking Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .section { margin: 30px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        button, a.button { background: #3498db; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; display: inline-block; margin: 5px; }
        h1, h2 { color: #2c3e50; }
        .form { display: flex; flex-direction: column; gap: 10px; max-width: 400px; }
        .form input, .form textarea { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
    </style>
      <!-- Zector Digital Lead Tracking Script -->
    <script type="text/javascript">
    (function() {
      var zld = {
        customerId: 'test_customer_123',
        domain: 'example.com',
        config: {
          gdprCompliant: true,
          anonymizeIp: true,
          trackScrollDepth: true,
          trackDownloads: true,
          trackFormSubmissions: true
        }
      };
    
      // Tracking functions
      zld.track = function(event, data) {
        var payload = {
          event: event,
          data: data || {},
          timestamp: new Date().toISOString(),
          url: window.location.href,
          referrer: document.referrer,
          userAgent: navigator.userAgent,
          customerId: zld.customerId,
          domain: zld.domain
        };
    
        // Log to console for testing
        console.log('🚀 Zector Digital Lead Tracking:', payload);
          // Send to backend
        fetch('https://zector-digital-crm.vercel.app/api/track', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        }).then(function(response) {
          console.log('✅ Tracking data sent:', response.status);
        }).catch(function(error) {
          console.error('❌ Error sending tracking data:', error);
        });
      };
    
      // Auto-track page views
      zld.track('page_view', {
        title: document.title,
        path: window.location.pathname + window.location.search
      });
    
      // Track scroll depth
      if (zld.config.trackScrollDepth) {
        var scrollDepths = [25, 50, 75, 90];
        var scrollDepthsTriggered = {};
        
        window.addEventListener('scroll', function() {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          var docHeight = Math.max(
            document.body.scrollHeight, 
            document.body.offsetHeight,
            document.documentElement.scrollHeight,
            document.documentElement.offsetHeight
          );
          var winHeight = window.innerHeight;
          var scrollPercent = (scrollTop / (docHeight - winHeight)) * 100;
          
          scrollDepths.forEach(function(depth) {
            if (scrollPercent >= depth && !scrollDepthsTriggered[depth]) {
              scrollDepthsTriggered[depth] = true;
              zld.track('scroll_depth', { depth: depth });
            }
          });
        });
      }
    
      // Make zld globally available for testing
      window.ZectorLeadDigital = zld;
      
      console.log('✅ Zector Digital Lead Tracking initialized for testing');
    })();
    </script>
    </head>
<body>
    <h1>Zector Digital Lead Tracking Test Page</h1>
    <p>This page is designed to test the Zector Digital Lead Tracking functionality.</p>

    <div class="section">
        <h2>Test Page Navigation</h2>
        <p>Click on different links to trigger page view events:</p>
        <button onclick="window.location.href = '?page=about'">About Page</button>
        <button onclick="window.location.href = '?page=services'">Services Page</button>
        <button onclick="window.location.href = '?page=contact'">Contact Page</button>
    </div>

    <div class="section">
        <h2>Download Test</h2>
        <p>Click to download a test file (this won't actually download anything):</p>
        <a href="test-document.pdf" class="button" onclick="event.preventDefault();">Download Test PDF</a>
        <a href="test-presentation.pptx" class="button" onclick="event.preventDefault();">Download Test Presentation</a>
    </div>

    <div class="section">
        <h2>Form Submission Test</h2>
        <p>Fill and submit this form to test form tracking:</p>
        <form class="form" id="testForm" onsubmit="event.preventDefault(); alert('Form submission tracked!');">
            <input type="text" placeholder="Your Name" required>
            <input type="email" placeholder="Your Email" required>
            <textarea placeholder="Your Message"></textarea>
            <button type="submit">Submit Form</button>
        </form>
    </div>

    <div class="section">
        <h2>Check Console</h2>
        <p>Open your browser's developer console to see tracking events that are being captured.</p>
        <button onclick="console.log('Check for Zector Digital tracking events above ☝️')">Check Console</button>
    </div>

    <script>
        // Dynamically update page content based on URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const page = urlParams.get('page');
        
        if (page) {
            document.title = `${page.charAt(0).toUpperCase() + page.slice(1)} - Zector Digital Test`;
            const h1 = document.querySelector('h1');
            h1.textContent = `${page.charAt(0).toUpperCase() + page.slice(1)} Page`;
        }
    </script>
</body>
</html>
